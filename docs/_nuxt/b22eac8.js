(window.webpackJsonp=window.webpackJsonp||[]).push([[7,9],{450:function(t,e,n){"use strict";n.r(e);var o={},r=n(90),c=n(133),l=n.n(c),v=n(225),d=n(475),f=n(447),h=n(593),_=n(52),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"grey",outlined:""}},"v-btn",r,!1),o),[t._v("操作説明")])]}},{key:"default",fn:function(dialog){return[n("v-card",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("操作説明")]),t._v(" "),n("v-card-text",{staticClass:"px-5 pt-5 text-body-1"},[t._t("default")],2),t._v(" "),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(t){dialog.value=!1}}},[t._v("Close")])],1)],1)]}}],null,!0)})}),[],!1,null,"5c4b5663",null);e.default=component.exports;l()(component,{VBtn:v.a,VCard:d.a,VCardActions:f.a,VCardText:f.b,VDialog:h.a,VToolbar:_.a})},484:function(t,e,n){"use strict";n.r(e);var o=n(8),r=(n(12),n(3),n(9),n(66),n(462)),c=n.n(r),l={components:{Description:n(450).default,draggable:c.a},data:function(){return{list:[{id:1,name:"Abby",sport:"basket"},{id:2,name:"Brooke",sport:"foot"},{id:3,name:"Courtenay",sport:"volley"},{id:4,name:"David",sport:"rugby"}],tabDefault:"settingQuestions",tableHeader:["No.","問題数","配点","小計","観点"],kantens:["知識・技能","思考・表現・判断"],isValidated:!1,questions:[]}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$db.collection("dbQuestions").get();case 2:t.questions=e.sent;case 3:case"end":return e.stop()}}),e)})))()},computed:{totalScore:function(){return this.shikoTotal+this.chishikiTotal},shikoTotal:function(){var t=this.questions.filter((function(t){return"思考・表現・判断"===t.kanten})),e=0;return t.forEach((function(t){e+=t.setNumber*t.point})),e},chishikiTotal:function(){var t=this.questions.filter((function(t){return"知識・技能"===t.kanten})),e=0;return t.forEach((function(t){e+=t.setNumber*t.point})),e}},watch:{totalScore:function(){this.validateMassage(),100===this.totalScore?this.$emit("update:isSetQuestions",!0):this.$emit("update:isSetQuestions",!1)}},methods:{reset:function(){this.questions=[],this.$store.dispatch("questions/resetQuestions")},validateMassage:function(){this.totalScore>100&&alert("合計点数が100点以上になっています。")},addQuestion:function(){var t={id:Date.now(),correctNumber:0,setNumber:5,point:2,kanten:"思考・表現・判断"};this.$store.dispatch("questions/addQuestions",t),this.questions.push(t)},removeQuestion:function(t){this.$store.dispatch("questions/removeQuestion",t),this.questions=this.questions.filter((function(q){return q.id!==t}))},changeKanten:function(t,e){this.$store.dispatch("questions/changeKanten",{id:t,value:e})},changePoint:function(t,e){this.$store.dispatch("questions/changePoint",{id:t,value:e})},changeSetNumber:function(t,e){this.$store.dispatch("questions/changeSetNumber",{id:t,value:e})}}},v=n(90),d=n(133),f=n.n(d),h=n(225),_=n(190),m=n(191),k=n(127),x=n(83),y=n(596),V=n(533),C=n(453),component=Object(v.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mt-3"},[n("div",{staticClass:"btn-group d-flex mt-2"},[n("v-btn",{attrs:{color:"success"},on:{click:t.addQuestion}},[n("v-icon",[t._v("mdi-plus-circle-outline")]),t._v("追加する")],1),t._v(" "),n("v-btn",{staticClass:"ml-2",attrs:{color:"error"},on:{click:t.reset}},[n("v-icon",[t._v("mdi-trash-can-outline")]),t._v("リセット")],1),t._v(" "),n("div",{staticClass:"ml-auto"},[n("Description",{scopedSlots:t._u([{key:"default",fn:function(){return[n("p",[n("span",[n("v-icon",[t._v("mdi-plus-circle-outline")])],1),t._v("を押すと問題が追加されます\n            ")]),t._v(" "),n("p",[n("span",[n("v-icon",[t._v("mdi-trash-can-outline")])],1),t._v("を押すとすべての問題がリセットされます。\n            ")]),t._v(" "),n("p",[t._v("\n              正答数を基準に採点するので、問題数と配点、観点をそれぞれ設定してください。\n            ")]),t._v(" "),n("p",[t._v("合計点数が100を超えるとエラーメッセージが表示されます。")]),t._v(" "),n("p",[t._v("\n              問題の設定が完了したら、上の"),n("span",{staticClass:"font-weight-bold"},[t._v("生徒登録のタブ")]),t._v("から生徒の登録を行ってください。\n            ")])]},proxy:!0}])})],1)],1),t._v(" "),n("div",{staticClass:"score-group d-flex justify-end align-center"},[n("v-list",{staticClass:"d-flex"},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("知識・技能:"+t._s(t.chishikiTotal))])],1)],1),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("思考・判断:"+t._s(t.shikoTotal))])],1)],1),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{class:{"red--text":t.isValidated}},[t._v("合計:"+t._s(t.totalScore))])],1)],1)],1)],1)]),t._v(" "),n("v-simple-table",{attrs:{"fixed-header":"",height:"600px"},scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th"),t._v(" "),t._l(t.tableHeader,(function(e,o){return n("th",{key:o,staticClass:"text-left fit"},[t._v("\n            "+t._s(e)+"\n          ")])})),t._v(" "),n("th",[t._v("削除")])],2)]),t._v(" "),n("draggable",{attrs:{tag:"tbody",options:{animation:200,delay:50}},on:{change:function(e){return t.$store.dispatch("questions/changeOrder",t.questions)}},model:{value:t.questions,callback:function(e){t.questions=e},expression:"questions"}},t._l(t.questions,(function(e,o){return n("tr",{key:e.id},[n("td",[n("v-icon",[t._v("mdi-drag")])],1),t._v(" "),n("td",[t._v("\n            "+t._s(o+1)+"\n          ")]),t._v(" "),n("td",[n("v-text-field",{attrs:{value:e.setNumber,type:"number"},on:{input:function(n){return t.changeSetNumber(e.id,n)}}})],1),t._v(" "),n("td",[n("v-text-field",{attrs:{value:e.point,type:"number"},on:{input:function(n){return t.changePoint(e.id,n)}}})],1),t._v(" "),n("td",[t._v(t._s(e.setNumber*e.point))]),t._v(" "),n("td",[n("v-select",{attrs:{value:"知識・技能"===e.kanten?"知識・技能":"思考・表現・判断",items:t.kantens},on:{input:function(n){return t.changeKanten(e.id,n)}}})],1),t._v(" "),n("td",[n("v-btn",{attrs:{icon:""}},[n("v-icon",{on:{click:function(n){return t.removeQuestion(e.id)}}},[t._v("mdi-delete")])],1)],1)])})),0)]},proxy:!0}])})],1)}),[],!1,null,"575f6188",null);e.default=component.exports;f()(component,{VBtn:h.a,VIcon:_.a,VList:m.a,VListItem:k.a,VListItemContent:x.a,VListItemTitle:x.b,VSelect:y.a,VSimpleTable:V.a,VTextField:C.a})}}]);