(window.webpackJsonp=window.webpackJsonp||[]).push([[10,6],{466:function(t,e,n){var content=n(521);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("5b9f9c90",content,!0,{sourceMap:!1})},470:function(t,e,n){"use strict";n.r(e);n(12),n(3),n(9);var o={data:function(){return{tabDefault:"settingQuestions",defaultKanten:"知識・技能",tableHeader:["No.","問題数","配点","小計","観点"],kantens:["知識・技能","思考・表現・判断"],isValidated:!1}},computed:{questions:function(){return this.$store.getters["questions/questions"]},totalScore:function(){return this.shikoTotal+this.chishikiTotal},shikoTotal:function(){var t=this.questions.filter((function(t){return"思考・表現・判断"===t.kanten})),e=0;return t.forEach((function(t){e+=t.setNumber*t.point})),e},chishikiTotal:function(){var t=this.questions.filter((function(t){return"知識・技能"===t.kanten})),e=0;return t.forEach((function(t){e+=t.setNumber*t.point})),e}},watch:{totalScore:function(){this.validateMassage()}},methods:{reset:function(){this.$store.dispatch("questions/resetQuestions")},validateMassage:function(){this.totalScore>100&&alert("合計点数が100点以上になっています。")},addQuestion:function(){this.$store.dispatch("questions/addQuestions")},removeQuestion:function(t){this.$store.dispatch("questions/removeQuestion",t)},changeKanten:function(t,e){this.$store.dispatch("questions/changeKanten",{id:t,value:e})},changePoint:function(t,e){this.$store.dispatch("questions/changePoint",{id:t,value:e})},changeSetNumber:function(t,e){this.$store.dispatch("questions/changeSetNumber",{id:t,value:e})}}},l=n(91),r=n(133),c=n.n(r),d=n(224),v=n(190),f=n(191),h=n(127),m=n(82),_=n(576),x=n(519),S=n(448),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mt-3"},[n("div",{staticClass:"btn-group"},[n("v-btn",{attrs:{color:"success"},on:{click:t.addQuestion}},[n("v-icon",[t._v("mdi-plus-circle-outline")]),t._v("追加する")],1),t._v(" "),n("v-btn",{staticClass:"ml-2",attrs:{color:"error"},on:{click:t.reset}},[n("v-icon",[t._v("mdi-trash-can-outline")]),t._v("リセット")],1)],1),t._v(" "),n("div",{staticClass:"score-group d-flex justify-end align-center"},[n("v-list",{staticClass:"d-flex"},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("知識・技能:"+t._s(t.chishikiTotal))])],1)],1),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("思考・判断:"+t._s(t.shikoTotal))])],1)],1),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{class:{"red--text":t.isValidated}},[t._v("合計:"+t._s(t.totalScore))])],1)],1)],1)],1)]),t._v(" "),n("v-simple-table",{attrs:{"fixed-header":"",height:"600px"},scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[t._l(t.tableHeader,(function(e,o){return n("th",{key:o,staticClass:"text-left fit"},[t._v("\n            "+t._s(e)+"\n          ")])})),t._v(" "),n("th",[t._v("削除")])],2)]),t._v(" "),n("tbody",t._l(t.questions,(function(e,o){return n("tr",{key:e.id},[n("td",[t._v(t._s(o+1))]),t._v(" "),n("td",[n("v-text-field",{attrs:{value:e.setNumber,type:"number"},on:{input:function(n){return t.changeSetNumber(e.id,n)}}})],1),t._v(" "),n("td",[n("v-text-field",{attrs:{value:e.point,type:"number"},on:{input:function(n){return t.changePoint(e.id,n)}}})],1),t._v(" "),n("td",[t._v(t._s(e.setNumber*e.point))]),t._v(" "),n("td",[n("v-select",{attrs:{value:t.defaultKanten,items:t.kantens},on:{input:function(n){return t.changeKanten(e.id,n)}}})],1),t._v(" "),n("td",[n("v-btn",{attrs:{icon:""}},[n("v-icon",{on:{click:function(n){return t.removeQuestion(e.id)}}},[t._v("mdi-delete")])],1)],1)])})),0)]},proxy:!0}])})],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VIcon:v.a,VList:f.a,VListItem:h.a,VListItemContent:m.a,VListItemTitle:m.b,VSelect:_.a,VSimpleTable:x.a,VTextField:S.a})},471:function(t,e,n){"use strict";n.r(e);var o=n(8),l=(n(25),n(134),n(66),n(3),n(9),n(42),n(67),{data:function(){return{message:"csvファイルをアップロードしてください。",students:[],isFile:!1,fileName:null}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$db.collection("dbStudents").get();case 2:t.students=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{reset:function(){this.$store.dispatch("students/resetStudents"),this.students=[],this.isFile=!1,this.fileName=null,this.message="csvファイルをアップロードしてください。"},loadCsvFile:function(t){var e=this;this.message="アップロードされています。",this.students=[],this.isFile=!0;var n=t;if(n.type.match("text/csv")){var o=new FileReader;o.readAsText(n),o.onload=function(){var t=o.result.split("\n");t.shift(),t.forEach((function(element,t){var n=element.split(",");e.students.push({id:t+1,name:n[1].slice(0,-1)})})),e.addStudents(e.students)},this.isFile=!0}else this.message="CSVファイルを選択してください"},addStudents:function(t){this.$store.dispatch("students/addStudents",t)}}}),r=n(91),c=n(133),d=n.n(c),v=n(224),f=n(562),h=n(190),m=n(519),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-2"},[n("h2",[t._v("生徒登録")]),t._v(" "),n("div",{staticClass:"mt-2"},[n("v-file-input",{attrs:{accept:".csv","truncate-length":"10",disabled:t.isFile,clearable:t.isFile,label:t.message},on:{change:t.loadCsvFile},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}}),t._v(" "),n("v-btn",{staticClass:"ml-2",attrs:{color:"error"},on:{click:t.reset}},[n("v-icon",[t._v("mdi-trash-can-outline")]),t._v("リセット")],1)],1),t._v(" "),n("div",[n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("ID")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("Name")])])]),t._v(" "),n("tbody",t._l(t.students,(function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.name))])])})),0)]},proxy:!0}])})],1)])}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:v.a,VFileInput:f.a,VIcon:h.a,VSimpleTable:m.a})},520:function(t,e,n){"use strict";n(466)},521:function(t,e,n){var o=n(22)(!1);o.push([t.i,".scroll[data-v-987e6180]{overflow-y:scroll;overflow-x:hidden;height:500px}",""]),t.exports=o},579:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{tabDefault:"settingQuestions"}}},l=(n(520),n(91)),r=n(133),c=n.n(r),d=n(581),v=n(575),f=n(582),h=n(580),m=n(572),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h1",[t._v("settings")]),t._v(" "),n("v-tabs",{model:{value:t.tabDefault,callback:function(e){t.tabDefault=e},expression:"tabDefault"}},[n("v-tab",{attrs:{href:"#settingQuestions"}},[t._v("問題登録")]),t._v(" "),n("v-tab",{attrs:{href:"#registerStudents"}},[t._v("生徒登録")])],1),t._v(" "),n("v-tabs-items",{model:{value:t.tabDefault,callback:function(e){t.tabDefault=e},expression:"tabDefault"}},[n("v-tab-item",{attrs:{value:"settingQuestions"}},[n("SettingQuestions")],1),t._v(" "),n("v-tab-item",{attrs:{value:"registerStudents"}},[n("SettingStudents",{staticClass:"scroll"})],1)],1)],1)}),[],!1,null,"987e6180",null);e.default=component.exports;c()(component,{SettingQuestions:n(470).default,SettingStudents:n(471).default}),c()(component,{VContainer:d.a,VTab:v.a,VTabItem:f.a,VTabs:h.a,VTabsItems:m.a})}}]);